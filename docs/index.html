<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>CLT HUB</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    :root {
      --green: #2cc053;
      --bg-dark: #0b1910;
      --green-accent: #218838;
      --white: #fff;
      --light-gray: #e0e0e0;
      --panel-padding: 16px;
    }
    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Arial Narrow', Arial, sans-serif;
      min-height: 100vh;
      width: 100vw;
      overflow-x: hidden;
      position: relative;
    }
    body {
      min-height: 100vh;
      width: 100vw;
      background:
        linear-gradient(
          35deg,
          #0b1910 0%,
          #0b1910 30%,
          rgba(33,136,56,0.30) 49%,
          rgba(33,136,56,0.30) 51%,
          #0b1910 70%,
          #0b1910 100%
        ) center center/cover no-repeat,
        #0b1910;
      color: #999;
    }
    .lang-mail-bar {
      position: absolute;
      top: 24px;
      right: 4vw;
      z-index: 99;
      display: flex;
      align-items: center;
      background: transparent;
    }
    .mail-ico-inbar {
      width: 34px;
      height: 26px;
      cursor: pointer;
      border-radius: 7px;
      margin-right: 10px;
      transition: filter 0.15s;
      background: transparent;
    }
    .mail-ico-inbar:hover {
      filter: brightness(1.3);
      background: #21883830;
    }
    .mail-title {
      font-size: 1.11em;
      color: var(--white);
      margin-right: 16px;
      font-weight: 500;
      letter-spacing: 0.04em;
      white-space: nowrap;
      transition: filter 0.2s;
      user-select: none;
    }
    .lang-select {
      z-index: 102;
      border: none;
      background: var(--green);
      color: var(--white);
      border-radius: 10px;
      font-size: 1.18em;
      padding: 0.25em 1.4em 0.25em 0.7em;
      font-family: inherit;
      font-weight: bold;
      outline: none;
      box-shadow: 0 1px 7px #0001;
      cursor: pointer;
      transition: background 0.2s, filter 0.2s, color 0.2s, opacity 0.2s;
      position: static;
    }
    .lang-select:focus, .lang-select:hover {
      background: #42df6b;
      filter: brightness(1.13);
      color: #14281d !important;
      opacity: 0.8;
    }
    .main-container {
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: flex-start;
      gap: 8vw;
      margin: 3vh auto 0 auto;
      width: 95vw;
      max-width: 1700px;
      box-sizing: border-box;
    }
    .left-panel {
      flex: 0 1 33vw;
      min-width: 280px;
      max-width: 520px;
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      padding-left: var(--panel-padding);
      padding-right: var(--panel-padding);
    }
    .right-panel {
      flex: 0 1 42vw;
      min-width: 290px;
      max-width: 600px;
      display: flex;
      flex-direction: column;
      height: 100%;
      justify-content: flex-start;
      transition: filter 0.2s;
      margin-top: 56px;
    }
    @media (max-width: 800px) {
      .main-container {
        flex-direction: column;
        gap: 2vw;
        width: 99vw;
      }
      .left-panel, .right-panel {
        min-width: 0;
        max-width: 100vw;
        width: 97vw;
        margin-top: 0 !important;
      }
    }
    .toc-section {
      font-size: 1.24em;
      font-weight: bold;
      letter-spacing: 0.01em;
      display: inline-block;
      width: max-content;
      margin-top: 0.7em;
      margin-bottom: 1.1em;
      background: linear-gradient(90deg,#fff 0%,#fff 20%,#e0e0e0 50%,#fff 80%,#fff 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-fill-color: transparent;
      color: #fff !important;
      text-align: left;
      transition: filter 0.2s;
    }
    .toc-section.regulamin-title {
      margin-top: 0;
      display: block;
      padding-left: 0;
      padding-right: 0;
      box-sizing: border-box;
    }
    .regulamin {
      margin-top: 2.2em;
      font-size: 1.08em;
      color: var(--green);
      max-height: 230px;
      overflow-y: auto;
      line-height: 1.22;
      padding-left: clamp(10px, 3.5vw, 20px);
      padding-right: clamp(10px, 3.5vw, 20px);
      text-align: justify;
      letter-spacing: 0.08em;
      background: transparent;
      font-family: 'Arial Narrow', Arial, sans-serif;
      font-weight: 400;
      width: 100%;
      position: relative;
      transition: filter 0.2s, opacity 0.2s;
      box-sizing: border-box;
      word-break: break-word;
      margin-bottom: 2.7em;
    }
    .regulamin .break {
      display: block;
      height: 1.25em;
      content: "";
    }
    .regulamin:hover {
      filter: brightness(1.3);
      opacity: 0.92;
    }
    .regulamin::-webkit-scrollbar, .toc-list::-webkit-scrollbar {
      width: 8px;
      background: #222;
      border-radius: 12px;
    }
    .regulamin::-webkit-scrollbar-thumb, .toc-list::-webkit-scrollbar-thumb {
      background: #2cc053;
      border-radius: 12px;
    }
    .headline {
      font-size: 3.2em;
      font-weight: bold;
      line-height: 1.1;
      margin: 0;
      letter-spacing: 1px;
      white-space: nowrap;
      width: max-content;
      display: inline-block;
      transition: filter 0.2s;
    }
    .gradient-text {
      background: linear-gradient(90deg,#fff 0%,#2cc053 45%,#2cc053 55%,#fff 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-fill-color: transparent;
    }
    .logo-row {
      display: flex;
      flex-direction: row;
      align-items: center;
      margin-bottom: 0.5em;
      margin-top: 0.2em;
      gap: 1.5vw;
      width: 100%;
      justify-content: flex-start;
    }
    .logo {
      width: 100px;
      height: 100px;
      border-radius: 18px;
      background: var(--white);
      object-fit: contain;
      margin-right: 1vw;
      cursor: pointer;
      transition: filter 0.2s;
    }
    .logo:hover {
      filter: brightness(1.3);
      opacity: 0.8;
    }
    .middle-section {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 120px;
      margin-bottom: 0.7em;
    }
    .entry-btn {
      background: var(--green-accent);
      color: var(--white);
      border: none;
      width: 60%;
      font-family: 'Arial Narrow', Arial, sans-serif;
      font-size: 1.38em;
      font-weight: bold;
      padding: 0.18em 0;
      border-radius: 18px;
      box-shadow: 0 0 10px #0002;
      cursor: pointer;
      transition: filter 0.2s, background 0.2s, color 0.2s, opacity 0.2s;
      display: block;
      margin: 1.5em 0 0 0;
      text-align: center;
    }
    .entry-btn span {
      display: block;
      font-size: 0.48em;
      font-weight: normal;
      margin-top: 0.2em;
      color: var(--white);
      opacity: 0.8;
      letter-spacing: 0.01em;
      transition: color 0.2s;
    }
    .entry-btn:hover, .entry-btn:focus {
      background: #42df6b;
      filter: brightness(1.13);
      color: #14281d !important;
      opacity: 0.85;
    }
    .entry-btn:hover span, .entry-btn:focus span {
      color: #14281d !important;
    }
    .toc-header {
      font-size: 2.1em;
      font-weight: bold;
      margin-bottom: 0.6em;
      margin-top: 0.3em;
      transition: filter 0.2s;
      text-align: left;
      display: inline-block;
      width: max-content;
      background: linear-gradient(90deg,#fff 0%,#fff 20%,#e0e0e0 50%,#fff 80%,#fff 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-fill-color: transparent;
      color: #fff !important;
    }
    .toc-header:hover {
      filter: brightness(1.3);
    }
    .toc-list {
      font-size: 1.13em;
      color: var(--green);
      max-height: 340px;
      overflow-y: auto;
      padding-right: 12px;
      line-height: 1.33;
      transition: filter 0.2s;
      text-align: left;
    }
    .toc-list .toc-section:hover {
      filter: brightness(1.3);
    }
    .toc-list ul {
      list-style: none;
      padding-left: 1.4em;
      margin-top: 0.1em;
      margin-bottom: 0.6em;
    }
    .toc-list li {
      color: var(--green);
      font-size: 1em;
      margin-bottom: 0.06em;
      transition: filter 0.2s, color 0.2s;
    }
    .toc-list li:hover {
      filter: brightness(1.3);
      color: #42df6b;
    }
    .reklama-bar {
      width: 100%;
      height: 38px;
      margin-top: 22px;
      margin-bottom: 0.7em;
      border-radius: 18px;
      background: linear-gradient(90deg, #0b1910 0%, #218838 54%, #0b1910 100%);
      box-shadow: 0 3px 18px #0004;
      overflow: hidden;
      display: flex;
      align-items: center;
      border: 1.5px solid #21883844;
      z-index: 11;
      position: relative;
    }
    .reklama-marquee {
      font-family: 'Arial Narrow', Arial, sans-serif;
      font-size: 1.17em;
      color: #fff;
      white-space: nowrap;
      animation: scroll-text 80s linear infinite;
      letter-spacing: 0.07em;
      font-weight: 400;
      padding-left: 100%;
      display: inline-block;
    }
    @keyframes scroll-text {
      from { transform: translateX(0); }
      to   { transform: translateX(-100%); }
    }
    .copyright {
      width: 100vw;
      color: #555;
      text-align: center;
      font-size: 1em;
      margin: 3vh 0 1vh 0;
      letter-spacing: 0.03em;
      font-family: Arial, sans-serif;
      user-select: none;
    }
    /* Edytor UI */
    .ed-panel input, .ed-panel select, .ed-panel button { font-size: 1em; }
    .ed-panel label { margin-bottom:2px;display:inline-block;}
    .ed-panel .ed-group { margin-bottom: 10px; }
    .ed-panel .ed-apply { background: #218838; color: #fff; border-radius: 7px; border: none; font-size: 1.08em; padding: 6px 18px; margin-left: 6px; cursor: pointer; }
    .ed-panel .ed-reset { background: #c92828; color: #fff; border-radius: 7px; border: none; font-size: 1.08em; padding: 6px 18px; margin-left: 6px; cursor: pointer; margin-top: 16px; }
  </style>
</head>
<body>
  <!-- Pasek język+poczta w prawym górnym rogu -->
  <div class="lang-mail-bar">
    <span class="mail-title" id="mailTitle">Napisz do nas!</span>
    <img src="https://github.com/clthubpl/kalkulator-szablon/blob/main/docs/poczta.png?raw=true"
         alt="E-mail"
         class="mail-ico-inbar"
         id="mailIcon"
         title="Napisz do nas!"
         onclick="window.location='mailto:cltplhub@gmail.com'"
         ondblclick="window.open('https://mail.google.com/mail/?view=cm&to=cltplhub@gmail.com','_blank')" />
    <select class="lang-select" id="lang" onchange="setLang(this.value)">
      <option value="pl">PL</option>
      <option value="en">EN</option>
      <option value="de">GER</option>
    </select>
  </div>
  <div class="main-container">
    <!-- Lewy panel -->
    <div class="left-panel">
      <div class="logo-row">
        <img src="https://github.com/clthubpl/kalkulator-szablon/blob/main/docs/logo.png?raw=true" alt="Logo CLT HUB" class="logo" id="logoBtn">
        <span class="headline gradient-text" id="headline">CLT level up!</span>
      </div>
      <div class="middle-section">
        <button class="entry-btn" id="entryBtn">
          Wejdź
          <span id="free">(jedna sesja bezpłatnie)</span>
        </button>
      </div>
      <div class="regulamin" id="regulamin"></div>
    </div>
    <!-- Prawy panel -->
    <div class="right-panel" id="rightPanel">
      <div class="toc-header" id="toc-header"></div>
      <div class="toc-list" id="toc-list"></div>
      <div class="reklama-bar">
        <span class="reklama-marquee" id="adText">
          <!-- JS: tu generuje się treść -->
        </span>
      </div>
    </div>
  </div>
  <div class="copyright">
    © Copyright
  </div>
  <!-- PANEL EDYTORA UI/UX Z IMPORTEM PRESETÓW GITHUB -->
  <div id="uiEditorPanel" style="display:none; position:fixed; bottom:32px; right:32px; z-index:19999; background:#fff; border:2px solid #218838; border-radius:16px; box-shadow:0 4px 16px #14281d33; padding:22px 18px; min-width:340px;" class="ed-panel">
    <button style="position:absolute;top:13px;right:13px;font-size:1.5em;background:none;border:none;color:#218838;cursor:pointer;" onclick="uiEditorPanel.style.display='none'">&times;</button>
    <div style="margin-bottom:10px;">
      <label for="ed-section"><b>Sekcja do edycji:</b></label>
      <select id="ed-section" onchange="onEdSectionChange()">
        <option value="body">Tło strony</option>
        <option value="left-panel">Panel lewy</option>
        <option value="right-panel">Panel prawy</option>
        <option value="headline">Nagłówek główny</option>
        <option value="regulamin">Regulamin</option>
        <option value="entry-btn">Przycisk wejścia</option>
        <option value="toc-header">Nagłówek spisu</option>
        <option value="toc-list">Lista spisu treści</option>
        <option value="copyright">Stopka</option>
        <option value="reklama-bar">Panel reklamy</option>
        <option value="mail-title">Tekst „Napisz do nas”</option>
        <option value="free">Tekst „(jedna sesja bezpłatnie)”</option>
      </select>
    </div>
    <div id="ed-group-color" style="margin-bottom:10px;">
      <label for="ed-color">Kolor tła/tekstu:</label>
      <input type="color" id="ed-color" value="#218838" style="vertical-align:middle;" onchange="applyEdColor()"/>
      <input type="text" id="ed-color-text" value="#218838" style="width:95px;margin-left:10px;" oninput="applyEdColor(true)" placeholder="#218838"/>
    </div>
    <div id="ed-group-bg" style="display:none;margin-bottom:10px;">
      <label for="ed-bg">Tło (gradient/url):</label>
      <input type="text" id="ed-bg" style="width: 180px;" placeholder="linear-gradient(...) lub url(...)"/>
      <button onclick="applyEdBg()">OK</button>
    </div>
    <div id="ed-group-text" style="display:none;margin-bottom:10px;">
      <label for="ed-text">Treść sekcji:</label>
      <input type="text" id="ed-text" style="width:180px;" />
      <button onclick="applyEdText()">OK</button>
    </div>
    <div style="margin-bottom:10px;">
      <label for="ed-fontsize">Rozmiar czcionki:</label>
      <input type="number" id="ed-fontsize" min="8" max="120" step="1" style="width:60px;" value="18" onchange="applyEdFontsize()"/> px
    </div>
    <div style="margin-bottom:10px;">
      <label for="ed-radius">Zaokrąglenie rogów:</label>
      <input type="number" id="ed-radius" min="0" max="50" step="1" style="width:60px;" value="0" onchange="applyEdRadius()"/> px
    </div>
    <div style="margin-bottom:10px;">
      <label for="ed-shadow">Cień (CSS):</label>
      <input type="text" id="ed-shadow" style="width:170px;" onchange="applyEdShadow()" placeholder="np. 0 4px 24px #0005"/>
    </div>
    <div style="margin-bottom:10px;">
      <label for="ed-fontfam">Czcionka (font-family):</label>
      <select id="ed-fontfam" onchange="applyEdFontfam()">
        <option value="">(domyślna)</option>
        <option value="Arial, sans-serif">Arial</option>
        <option value="Segoe UI, sans-serif">Segoe UI</option>
        <option value="Verdana, sans-serif">Verdana</option>
        <option value="'Arial Narrow', Arial, sans-serif">Arial Narrow</option>
        <option value="Georgia, serif">Georgia</option>
        <option value="Tahoma, sans-serif">Tahoma</option>
        <option value="monospace">Monospace</option>
      </select>
    </div>
    <div style="margin-bottom:10px;">
      <label for="ed-fontweight">Grubość czcionki:</label>
      <select id="ed-fontweight" onchange="applyEdFontweight()">
        <option value="normal">normal</option>
        <option value="bold">bold</option>
        <option value="500">500</option>
        <option value="600">600</option>
        <option value="700">700</option>
        <option value="900">900</option>
      </select>
    </div>
    <div style="margin-bottom:10px;">
      <label for="ed-padding">Padding (wew.):</label>
      <input type="text" id="ed-padding" style="width:100px;" placeholder="np. 10px 20px" onchange="applyEdPadding()"/>
    </div>
    <div style="margin-bottom:10px;">
      <label for="ed-margin">Margines (zew.):</label>
      <input type="text" id="ed-margin" style="width:100px;" placeholder="np. 10px 0 20px 0" onchange="applyEdMargin()"/>
    </div>
    <div style="margin: 14px 0 9px 0; border-top:1px solid #eee; padding-top:8px;">
      <b style="color:#218838">Importuj preset (GitHub):</b><br>
      <input id="ed-import-url" type="text" style="width:70%;" placeholder="https://raw.githubusercontent.com/..."/>
      <button onclick="importPresets();return false;" style="padding:3px 13px;">Wczytaj</button>
      <select id="ed-preset-select" style="width:80%;margin-top:7px;display:none;" onchange="applyPresetFromList()"></select>
    </div>
    <div style="margin-top:14px;">
      <button onclick="closeUiEditorPanel()" style="background:#218838;color:#fff;border-radius:7px;border:none;font-size:1.08em;padding:6px 18px;">Zamknij</button>
      <button class="ed-reset" onclick="resetUiEdits();return false;">Resetuj zmiany</button>
    </div>
  </div>
  <!-- MODAL LOGOWANIA ADMIN -->
  <div class="login-modal" id="loginModal">
    <form class="login-box" onsubmit="return adminLogin()">
      <button type="button" class="close-login" onclick="closeLogin()">&times;</button>
      <h2>Logowanie administratora</h2>
      <input type="password" id="adminPass" placeholder="Hasło admina" autocomplete="current-password">
      <button type="submit">Zaloguj</button>
      <div class="login-info" id="loginInfo"></div>
    </form>
  </div>
  <script>
    // ZAPISZ DOMYŚLNE STYLE I TREŚCI DLA RESETU
    const _uiEdDefaults = {};
    window.addEventListener("DOMContentLoaded", function(){
      [
        "body",".left-panel",".right-panel","#headline","#regulamin","#entryBtn","#toc-header","#toc-list",".copyright",".reklama-bar","#mailTitle","#free"
      ].forEach(sel=>{
        let el = document.querySelector(sel);
        if(!el) return;
        _uiEdDefaults[sel] = {
          style: el.getAttribute("style")||"",
          html: el.innerHTML,
          txt: el.innerText
        };
      });
    });

    // Tłumaczenia dla "Napisz do nas" oraz reklamy
    const mailTitles = {
      pl: "Napisz do nas!",
      en: "Write to us!",
      de: "Schreiben Sie uns!"
    };
    const adTexts = {
      pl: `Zapytaj o wycenę konstrukcji swojego obiektu CLT na email: cltplhub@gmail.com (oznacza to automatyczną zgodę na przekazanie zapytania jako kopii do kooperantów CLT PL) * Miejsce na Twoją reklamę [nazwa firmy +5 wyrazów] 200PLN/miesiąc brutto *`,
      en: `Ask for a quote for your CLT structure at email: cltplhub@gmail.com (this means automatic consent to forward your inquiry as a copy to CLT PL partners) * Place your ad here [company name +5 words] 200PLN/month gross *`,
      de: `Fragen Sie nach einem Angebot für Ihre CLT-Konstruktion unter E-Mail: cltplhub@gmail.com (dies bedeutet die automatische Zustimmung, die Anfrage als Kopie an die Partner von CLT PL weiterzuleiten) * Platz für Ihre Werbung [Firmenname +5 Wörter] 200PLN/Monat brutto *`
    };
    const translations = {
      pl: {
        headline: "CLT level up!",
        wejdz: "Wejdź",
        free: "(jedna sesja bezpłatnie)",
        regulamin: `<span class="toc-section regulamin-title">Opis i regulamin...</span>
        Strona CLT HUB stanowi zbiór informacji oraz bazę wiedzy na temat technologii CLT. Wybrane elementy serwisu, w szczególności kalkulatory inżynieryjne, umożliwiają wykonywanie symulacji i modelowania, jednak nie zastępują profesjonalnej obsługi ze strony uprawnionego konstruktora lub innych specjalistów branżowych. Autor nie ponosi odpowiedzialności za ewentualne szkody powstałe w wyniku samodzielnych wdrożeń opartych o udostępnione narzędzia. Lista dostępnych opracowań będzie sukcesywnie rozszerzana – możliwe jest zgłaszanie własnych propozycji tematów do wdrożenia. Usługa polega na uzyskaniu jednorazowego dostępu do kalkulatora po dokonaniu płatności za pośrednictwem HotPay. Usługa realizowana jest natychmiast po zaksięgowaniu wpłaty i świadczona w ramach działalności nieewidencjonowanej zgodnie z art. 5 ustawy – Dz.U. 2024 poz. 236. Nie są wystawiane faktury ani paragony – potwierdzeniem zakupu jest sam fakt dokonania płatności. Po pełnym wykonaniu usługi nie przysługuje prawo do odstąpienia od umowy (art. 38 ustawy o prawach konsumenta). Reklamacje po zrealizowaniu płatności rozpatrywane są wyłącznie w przypadku udowodnionego braku realizacji usługi – zgłoszenia prosimy kierować na adres: cltplhub@gmail.com`,
        tocHeader: "Spis treści HUB CLT",
        toc: [
          {
            section: "Kalkulatory CLT",
            items: [
              "Kalkulator masy",
              "Kalkulator statyki"
            ]
          },
          {
            section: "Budowa i tematyka CLT",
            items: [
              "Rodzaje budowli w technologii CLT",
              "Cross-Laminated Timber (CLT) Drewno Klejone Krzyżowo",
              "Główne certyfikaty i zaświadczenia związane z CLT",
              "Główne wymagania ETA dla CLT",
              "Software",
              "Proces projektowy dla Biura projektowego/ Architekta",
              "Współpraca z producentem płyty CLT",
              "Przegrody CLT i rodzaje",
              "Lista czynności dla typowego obiektu CLT",
              "Zagadnienia dotyczące drewna",
              "Zalecenia",
              "Parametry płyty",
              "Akustyka",
              "Błędy",
              "Aktualności"
            ]
          }
        ]
      },
      en: {
        headline: "CLT level up!",
        wejdz: "Enter",
        free: "(one free session)",
        regulamin: `<span class="toc-section regulamin-title">Description and legal notice...</span>
        The CLT HUB website is an information base and knowledge hub about CLT technology. Selected elements of the site, especially engineering calculators, enable simulation and modeling, but do not replace professional support from a certified structural engineer or other industry specialists. The author is not responsible for any damages resulting from self-implementation based on the available tools. The list of available materials will be expanded successively – you can submit your own proposals for new topics. The service consists of one-time access to the calculator after payment via HotPay. The service is provided immediately after payment and is delivered under a non-registered business in accordance with Polish law (Art. 5 Dz.U. 2024 poz. 236). No invoices or receipts are issued – proof of purchase is the payment itself. Once the service is fully provided, there is no right of withdrawal (Art. 38 of the Consumer Rights Act). Complaints are considered only in the event of proven lack of service provision – please direct submissions to: cltplhub@gmail.com`,
        tocHeader: "CLT HUB Table of Contents",
        toc: [
          {
            section: "CLT Calculators",
            items: [
              "Mass calculator",
              "Statics calculator"
            ]
          },
          {
            section: "CLT construction and topics",
            items: [
              "Types of CLT structures",
              "Cross-Laminated Timber (CLT)",
              "Main certificates and attestations for CLT",
              "Main ETA requirements for CLT",
              "Software",
              "Design process for design offices / architects",
              "Cooperation with CLT panel producer",
              "CLT partitions and types",
              "Typical steps for a CLT project",
              "Wood-related issues",
              "Recommendations",
              "Panel parameters",
              "Acoustics",
              "Mistakes",
              "News"
            ]
          }
        ]
      },
      de: {
        headline: "CLT level up!",
        wejdz: "Eintreten",
        free: "(eine Sitzung kostenlos)",
        regulamin: `<span class="toc-section regulamin-title">Beschreibung und rechtliche Hinweise...</span>
        Die Website CLT HUB ist eine Informations- und Wissensdatenbank zur CLT-Technologie. Ausgewählte Elemente der Website, insbesondere Ingenieurrechner, ermöglichen Simulationen und Modellierungen, ersetzen jedoch nicht die professionelle Unterstützung durch einen zertifizierten Bauingenieur oder andere Branchenspezialisten. Der Autor übernimmt keine Verantwortung für Schäden, die aus eigenständigen Umsetzungen auf Basis der bereitgestellten Tools entstehen. Die Liste der verfügbaren Ausarbeitungen wird sukzessive erweitert – eigene Themenvorschläge können eingereicht werden. Die Dienstleistung besteht aus einmaligem Zugang zum Rechner nach Zahlung über HotPay. Die Dienstleistung wird sofort nach Zahlungseingang erbracht und erfolgt im Rahmen eines nicht eingetragenen Gewerbes gemäß polnischem Recht (Art. 5 Dz.U. 2024 poz. 236). Es werden keine Rechnungen oder Quittungen ausgestellt – der Zahlungsnachweis ist die Zahlung selbst. Nach vollständiger Erbringung der Dienstleistung besteht kein Widerrufsrecht (Art. 38 Verbraucherschutzgesetz). Reklamationen werden nur im Falle nachweislich nicht erbrachter Leistungen bearbeitet – bitte richten Sie Ihre Anfragen an: cltplhub@gmail.com`,
        tocHeader: "CLT HUB Inhaltsverzeichnis",
        toc: [
          {
            section: "CLT-Rechner",
            items: [
              "Massenrechner",
              "Statikrechner"
            ]
          },
          {
            section: "CLT-Konstruktion und Themen",
            items: [
              "Arten von CLT-Bauten",
              "Cross-Laminated Timber (CLT)",
              "Hauptzertifikate und Bescheinigungen für CLT",
              "Wichtigste ETA-Anforderungen für CLT",
              "Software",
              "Planungsprozess für Planungsbüros / Architekten",
              "Zusammenarbeit mit CLT-Plattenhersteller",
              "CLT-Trennwände und Typen",
              "Typische Schritte für ein CLT-Projekt",
              "Holzthemen",
              "Empfehlungen",
              "Plattenparameter",
              "Akustik",
              "Fehler",
              "Aktuelles"
            ]
          }
        ]
      }
    };
    function setLang(lang) {
      document.getElementById('headline').innerText = translations[lang].headline;
      document.querySelector('.entry-btn').childNodes[0].nodeValue = translations[lang].wejdz;
      document.getElementById('free').innerText = translations[lang].free;
      document.getElementById('regulamin').innerHTML = translations[lang].regulamin;
      document.getElementById('toc-header').innerText = translations[lang].tocHeader;
      const toc = translations[lang].toc;
      let tocHTML = "";
      toc.forEach((sec, idx) => {
        tocHTML += `<span class="toc-section"${idx<2?' style="color:#fff"':''}>${sec.section}</span><ul>`;
        sec.items.forEach(item => {
          tocHTML += `<li>${item}</li>`;
        });
        tocHTML += `</ul>`;
      });
      document.getElementById('toc-list').innerHTML = tocHTML;
      document.getElementById('adText').innerHTML =
        adTexts[lang] + "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" +
        adTexts[lang] + "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" +
        adTexts[lang];
      document.getElementById('mailTitle').innerText = mailTitles[lang];
      document.getElementById('mailIcon').title = mailTitles[lang];
    }
    setLang('pl');
    document.getElementById('lang').addEventListener('change', function() {
      setLang(this.value);
    });
    let wejdzClicks = 0;
    document.getElementById("entryBtn").onclick = function() {
      wejdzClicks++;
      if (wejdzClicks === 1) {
        window.location.href = "http://www.clthub.com.pl/HUBCLT.html/";
      } else {
        window.location.href = "https://hotpay.pl/";
      }
    };
    // --- Panel edytora UI/UX (otwórz np. po zalogowaniu admina) ---
    function openUiEditorPanel() {
      uiEditorPanel.style.display = "block";
      onEdSectionChange();
    }
    function closeUiEditorPanel() {
      uiEditorPanel.style.display = "none";
    }
    function onEdSectionChange() {
      const sec = document.getElementById('ed-section').value;
      document.getElementById('ed-group-bg').style.display =
        (sec === 'body' || sec.includes('panel') || sec === 'reklama-bar') ? 'block' : 'none';
      document.getElementById('ed-group-text').style.display =
        (['headline','regulamin','toc-header','entry-btn','mail-title','free'].includes(sec)) ? 'block' : 'none';
      let t = getEdTarget(sec);
      let col = getComputedStyle(t)[(sec==='body'||sec.includes('panel')||sec==='reklama-bar')?'backgroundColor':'color'];
      let hex = rgb2hex(col);
      document.getElementById('ed-color').value = hex;
      document.getElementById('ed-color-text').value = hex;
      let fs = parseInt(getComputedStyle(t).fontSize,10)||18;
      document.getElementById('ed-fontsize').value = fs;
      let br = parseInt(getComputedStyle(t).borderRadius)||0;
      document.getElementById('ed-radius').value = br;
      let sh = getComputedStyle(t).boxShadow;
      document.getElementById('ed-shadow').value = sh && sh!='none'? sh : '';
      let fam = getComputedStyle(t).fontFamily||'';
      let famOpt = Array.from(document.getElementById('ed-fontfam').options).find(o=>fam.includes(o.value));
      document.getElementById('ed-fontfam').value = famOpt? famOpt.value : '';
      let fw = getComputedStyle(t).fontWeight||'';
      document.getElementById('ed-fontweight').value = fw;
      document.getElementById('ed-padding').value = getComputedStyle(t).padding||'';
      document.getElementById('ed-margin').value = getComputedStyle(t).margin||'';
      if(['headline','regulamin','toc-header','entry-btn','mail-title','free'].includes(sec)) {
        if (sec === 'regulamin') document.getElementById('ed-text').value = t.innerText.replace(/\s+/g,' ').trim().substring(0,220);
        else document.getElementById('ed-text').value = t.innerText.replace(/\s+/g,' ').trim().substring(0,120);
      }
    }
    function getEdTarget(sec) {
      switch(sec) {
        case 'body': return document.body;
        case 'left-panel': return document.querySelector('.left-panel');
        case 'right-panel': return document.querySelector('.right-panel');
        case 'headline': return document.getElementById('headline');
        case 'regulamin': return document.getElementById('regulamin');
        case 'entry-btn': return document.getElementById('entryBtn');
        case 'toc-header': return document.getElementById('toc-header');
        case 'toc-list': return document.getElementById('toc-list');
        case 'copyright': return document.querySelector('.copyright');
        case 'reklama-bar': return document.querySelector('.reklama-bar');
        case 'mail-title': return document.getElementById('mailTitle');
        case 'free': return document.getElementById('free');
      }
    }
    function applyEdColor(fromText=false) {
      const sec = document.getElementById('ed-section').value;
      let color = fromText ? document.getElementById('ed-color-text').value : document.getElementById('ed-color').value;
      if (!fromText) document.getElementById('ed-color-text').value = color;
      else document.getElementById('ed-color').value = color;
      let t = getEdTarget(sec);
      if(sec==='body'||sec.includes('panel')||sec==='reklama-bar') t.style.background = color;
      else t.style.color = color;
    }
    function applyEdBg() {
      const sec = document.getElementById('ed-section').value;
      let t = getEdTarget(sec);
      let bg = document.getElementById('ed-bg').value.trim();
      if (bg.length < 3) return;
      t.style.background = bg;
    }
    function applyEdText() {
      const sec = document.getElementById('ed-section').value;
      let text = document.getElementById('ed-text').value;
      let t = getEdTarget(sec);
      if (sec === 'entry-btn') t.childNodes[0].nodeValue = text;
      else t.innerText = text;
    }
    function applyEdFontsize() {
      const sec = document.getElementById('ed-section').value;
      let fs = document.getElementById('ed-fontsize').value;
      let t = getEdTarget(sec);
      t.style.fontSize = fs+'px';
    }
    function applyEdRadius() {
      const sec = document.getElementById('ed-section').value;
      let r = document.getElementById('ed-radius').value;
      let t = getEdTarget(sec);
      t.style.borderRadius = r+'px';
    }
    function applyEdShadow() {
      const sec = document.getElementById('ed-section').value;
      let sh = document.getElementById('ed-shadow').value;
      let t = getEdTarget(sec);
      t.style.boxShadow = sh;
    }
    function applyEdFontfam() {
      const sec = document.getElementById('ed-section').value;
      let f = document.getElementById('ed-fontfam').value;
      let t = getEdTarget(sec);
      if(f) t.style.fontFamily = f;
      else t.style.fontFamily = '';
    }
    function applyEdFontweight() {
      const sec = document.getElementById('ed-section').value;
      let fw = document.getElementById('ed-fontweight').value;
      let t = getEdTarget(sec);
      t.style.fontWeight = fw;
    }
    function applyEdPadding() {
      const sec = document.getElementById('ed-section').value;
      let pad = document.getElementById('ed-padding').value;
      let t = getEdTarget(sec);
      t.style.padding = pad;
    }
    function applyEdMargin() {
      const sec = document.getElementById('ed-section').value;
      let pad = document.getElementById('ed-margin').value;
      let t = getEdTarget(sec);
      t.style.margin = pad;
    }
    function rgb2hex(rgb) {
      if(!rgb) return "#000";
      let res = rgb.match(/\d+/g);
      if (!res) return "#000";
      return "#" + res.slice(0,3).map(x=>('0'+parseInt(x).toString(16)).slice(-2)).join('');
    }
    // --- IMPORT PRESETÓW GITHUB (JSON) ---
    async function importPresets() {
      const url = document.getElementById('ed-import-url').value.trim();
      if (!url) return alert("Podaj adres URL pliku presetów z GitHub RAW");
      try {
        const res = await fetch(url);
        const presets = await res.json();
        const presetSel = document.getElementById('ed-preset-select');
        presetSel.innerHTML = '';
        presets.forEach((p, i) => {
          let o = document.createElement('option');
          o.value = i;
          o.text = p.nazwa || ("Preset " + (i+1));
          presetSel.appendChild(o);
        });
        presetSel.style.display = '';
        presetSel.dataset.presets = JSON.stringify(presets);
        alert("Presety zaimportowane. Wybierz z listy poniżej.");
      } catch (e) {
        alert("Błąd podczas pobierania presetów.\nSprawdź adres URL i format pliku.");
      }
    }
    function applyPresetFromList() {
      const idx = document.getElementById('ed-preset-select').value;
      const presets = JSON.parse(document.getElementById('ed-preset-select').dataset.presets || '[]');
      if (!presets[idx]) return;
      const preset = presets[idx];
      for (const sel in preset.style) {
        let styles = preset.style[sel];
        let targets = sel==="body" ? [document.body] : document.querySelectorAll(sel);
        targets.forEach ? targets.forEach(el=>{
          for(const k in styles) el.style[k]=styles[k];
        }) : Object.keys(styles).forEach(k=>targets.style[k]=styles[k]);
      }
      if (preset.texts) {
        for(const id in preset.texts) {
          let el = document.getElementById(id);
          if (el) el.innerText = preset.texts[id];
        }
      }
    }
    // --- RESET WSZYSTKICH ZMIAN (edytor) ---
    function resetUiEdits() {
      [
        "body",".left-panel",".right-panel","#headline","#regulamin","#entryBtn","#toc-header","#toc-list",".copyright",".reklama-bar","#mailTitle","#free"
      ].forEach(sel=>{
        let el = document.querySelector(sel);
        if(!el || !_uiEdDefaults[sel]) return;
        el.setAttribute("style", _uiEdDefaults[sel].style);
        el.innerHTML = _uiEdDefaults[sel].html;
        // jeśli to prosty tekst, podmień także textContent
        if(!_uiEdDefaults[sel].html || _uiEdDefaults[sel].html.replace(/<[^>]*>/g,'').trim() == _uiEdDefaults[sel].txt.trim())
          el.innerText = _uiEdDefaults[sel].txt;
      });
      // Resetuj panel edytora (opcjonalnie: zamknij)
      // uiEditorPanel.style.display = "none";
      onEdSectionChange();
    }

    // --- LOGOWANIE ADMINA & dostęp do panelu edycji ---
    const logoBtn = document.getElementById('logoBtn');
    const loginModal = document.getElementById('loginModal');
    function closeLogin() {
      loginModal.classList.remove('active');
      document.getElementById('loginInfo').innerText = "";
      document.getElementById('adminPass').value = "";
    }
    logoBtn.onclick = function() {
      // Umieść MODAL pod przyciskiem wejścia!
      let entryBtn = document.getElementById("entryBtn");
      let rect = entryBtn.getBoundingClientRect();
      loginModal.style.display = "flex";
      loginModal.classList.add('active');
      loginModal.style.position = "fixed";
      loginModal.style.top = (window.scrollY + rect.bottom + 1) + "px";
      loginModal.style.left = (window.scrollX + rect.left) + "px";
      setTimeout(()=>document.getElementById('adminPass').focus(),300);
    };
    function adminLogin() {
      const pass = document.getElementById('adminPass').value;
      if (pass === "edycjainterfejsu") {
        document.getElementById('loginInfo').innerText = "Zalogowano! Otwieram edytor…";
        setTimeout(()=>{
          closeLogin();
          openUiEditorPanel();
        }, 900);
      } else if(pass === "adminskip") {
        document.getElementById('loginInfo').innerText = "Wejście bez płatności!";
        setTimeout(()=>{
          closeLogin();
          window.location.href = "http://www.clthub.com.pl/HUBCLT.html/?free=1";
        }, 1200);
      } else {
        document.getElementById('loginInfo').innerText = "Błędne hasło";
      }
      return false;
    }
    document.addEventListener('keydown', function(e) {
      if (e.key === "Escape") closeLogin();
    });
  </script>
</body>
</html>
