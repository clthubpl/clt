<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>CLT HUB – Powitalny</title>
  <meta name="viewport" content="width=1024">
  <style>
    html { font-size: 16px; }
    body {
      margin: 0;
      background: #e0e0e0;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      min-height: 100vh;
      color: #1F3D2C;
    }
    .main-wrap {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 3.5rem;
      margin-top: 2.8rem;
      margin-bottom: 2.8rem;
    }
    .panel {
      border-radius: 16px;
      box-shadow: 0 2px 18px rgba(34,60,80,.13);
      min-width: 500px;
      min-height: 510px;
      display: flex;
      flex-direction: column;
      padding: 2.4rem 2.4rem 2rem 2.4rem;
      background: #fff;
    }
    .left-panel {
      background: #0e2419;
      color: #fff;
      max-width: 670px;
      flex: 1 0 670px;
      align-items: flex-start;
      position: relative;
      box-shadow: 0 2px 18px rgba(34,60,80,.08);
      background: linear-gradient(120deg, #1f3d2c 70%, #26553d 100%);
    }
    .right-panel {
      background: #fff;
      color: #184d21;
      min-width: 420px;
      max-width: 420px;
      flex: 0 1 420px;
      align-items: flex-start;
      box-sizing: border-box;
    }
    .logo {
      width: 94px;
      display: block;
      margin-bottom: 1.1em;
      margin-left: 2px;
      margin-top: 2px;
      border-radius: 7px;
      box-shadow: 0 1px 3px rgba(44,80,62,0.08);
      background: #fff;
      padding: 0.18em;
    }
    h1 {
      font-size: 2.25rem;
      font-weight: bold;
      text-align: center;
      margin-top: 4mm !important;
      margin-bottom: 4mm !important;
      letter-spacing: 0.03em;
      color: #222;
      padding: 0;
    }
    .headline {
      font-size: 1.47rem;
      font-weight: bold;
      text-align: center;
      margin-top: 0.22em;
      margin-bottom: 0.1em;
      letter-spacing: 0.01em;
    }
    .desc {
      margin: 0.7em 0 1.1em 0;
      font-size: 1.05rem;
      line-height: 1.38;
      text-align: justify;
      color: #fff;
      font-size: 10.6pt;
    }
    .regulamin-panel {
      background: #218838;
      color: #fff;
      border-radius: 10px;
      margin-top: 1.2em;
      padding: 0.75em 1.1em 0.85em 1.1em;
      font-size: 10pt;
      box-shadow: 0 1px 4px rgba(34,80,80,0.10);
      text-align: justify;
    }
    .regulamin-panel b, .regulamin-panel strong {
      display: block;
      text-align: center;
      font-size: 10pt;
      font-weight: bold;
      margin-bottom: 0.33em;
      margin-top: 0;
      letter-spacing: 0.01em;
    }
    .entry-btn {
      background: #218838;
      color: #fff;
      border: none;
      border-radius: 10px;
      font-size: 1.13em;
      font-weight: 700;
      cursor: pointer;
      margin: 0.1em auto 0.18em auto;
      display: block;
      width: 99%;
      max-width: 400px;
      min-height: 51px;
      box-shadow: 0 1px 3px rgba(44,80,62,0.10);
      padding: 0.27em 0 0.27em 0;
      line-height: 1.1;
      letter-spacing: .01em;
      transition: background 0.18s;
    }
    .entry-btn span {
      display: block;
      font-size: 0.87em;
      font-weight: 400;
      margin-top: 0.13em;
      color: #e6ffe9;
      line-height: 1.12;
      letter-spacing: 0;
    }
    .entry-btn span:last-child {
      font-size: 0.82em;
      margin-top: 0.10em;
      color: #bfffd1;
    }
    .entry-btn:hover { background: #166943; }
    .toc-title {
      font-size: 2rem;
      font-weight: bold;
      color: #218838;
      margin-bottom: 1.15em;
    }
    .toc-section-title {
      font-weight: 600;
      margin: 1.1em 0 0.4em 0;
      font-size: 1.13em;
      color: #218838;
    }
    .toc-list {
      margin: 0 0 1.1em 0.7em;
      padding-left: 1.3em;
      font-size: 1.03em;
      color: #222;
    }
    .toc-link {
      color: #218838;
      text-decoration: none;
      font-weight: 600;
      font-size: 1.04em;
      margin-bottom: 0.25em;
      display: block;
      padding: 0.15em 0.5em 0.11em 0.1em;
      border-radius: 6px;
      transition: background 0.18s;
      background: none;
    }
    .toc-link:hover {
      background: #e7faed;
      color: #125920;
      text-decoration: underline;
    }
    .footer {
      font-size: 0.96em;
      color: #bbb;
      margin-top: 2em;
      text-align: center;
    }
    #lang-select-container {
      position: absolute;
      top: 1.1rem;
      right: 2.2rem;
      z-index: 1000;
    }
    #lang-select {
      font-size: 1.1rem;
      padding: 0.18em 1.25em;
      border-radius: 8px;
      border: 1px solid #bbb;
      background: #fff;
      color: #14281d;
      box-shadow: 0 1px 5px rgba(30,60,20,0.07);
    }
    @media (max-width: 1160px) {
      .main-wrap { flex-direction: column; align-items: center; gap: 2rem; }
      .right-panel { max-width: 100%; }
      .panel { min-width: unset; max-width: 99vw; padding: 1.1em;}
    }
    @media (max-width: 860px) {
      .main-wrap { gap: 1rem; }
    }
  </style>
</head>
<body>
  <div id="lang-select-container">
    <select id="lang-select" aria-label="Wybierz język">
      <option value="pl">PL</option>
      <option value="en">ENG</option>
      <option value="de">GER</option>
    </select>
  </div>
  <h1>CLT HUB</h1>
  <main class="main-wrap">
    <section class="panel left-panel">
      <img src="https://clthubpl.github.io/kalkulator-szablon/docs/logo%20CLTPL.png" alt="Logo CLT HUB" class="logo"/>
      <div class="headline" id="headline">CLT level up!</div>
      <div id="desc" class="desc"></div>
      <button class="entry-btn" id="entryBtn" onclick="window.location.href='docs/HUBCLT.html?free=1&lang=pl#calc-mass'">
        Przejdź do CLT HUB
        <span>Jednorazowy dostęp. Każde kolejne wejście wymaga aktywacji płatnej sesji.</span>
        <span>Zapoznaj się z regulaminem poniżej.</span>
      </button>
      <div class="regulamin-panel" id="regulamin">
        <b>Regulamin korzystania z narzędzi CLT HUB</b>
        Korzystanie z narzędzi i kalkulatorów CLT HUB jest możliwe wyłącznie na zasadzie jednorazowej sesji. Po jej zakończeniu każde kolejne wejście jest płatne.  
        Informacje zawarte w serwisie mają charakter informacyjny i nie stanowią dokumentacji projektowej. Użytkownik korzysta z narzędzi na własną odpowiedzialność.  
        Wszelkie prawa zastrzeżone &copy; CLT HUB, autor: Piotr Baltyn, kontakt: <a href="mailto:cltplhub@gmail.com" style="color:#fff;text-decoration:underline;">cltplhub@gmail.com</a>
      </div>
    </section>
    <aside class="panel right-panel">
      <div class="toc-title" id="tocTitle">Kalkulatory i narzędzia</div>
      <div id="toc"></div>
    </aside>
  </main>
  <div class="footer" id="footer">
    &copy; CLT HUB – Wszelkie prawa zastrzeżone | Autor: Piotr Baltyn | <a href="mailto:cltplhub@gmail.com" style="color:#218838;text-decoration:underline;">cltplhub@gmail.com</a>
  </div>
  <script>
    // --- Tłumaczenia ---
    const translations = {
      pl: {
        headline: "CLT level up!",
        desc: "Interaktywne narzędzia i kalkulatory do projektowania konstrukcji CLT. <br>Jednorazowy dostęp – kolejne wejścia wymagają opłaty.",
        entryBtn: "Przejdź do CLT HUB",
        entrySub: "Jednorazowy dostęp. Każde kolejne wejście wymaga aktywacji płatnej sesji.",
        entryThird: "Zapoznaj się z regulaminem poniżej.",
        regulamin: `<b>Regulamin korzystania z narzędzi CLT HUB</b>
        Korzystanie z narzędzi i kalkulatorów CLT HUB jest możliwe wyłącznie na zasadzie jednorazowej sesji. Po jej zakończeniu każde kolejne wejście jest płatne.
        Informacje zawarte w serwisie mają charakter informacyjny i nie stanowią dokumentacji projektowej. Użytkownik korzysta z narzędzi na własną odpowiedzialność.
        Wszelkie prawa zastrzeżone &copy; CLT HUB, autor: Piotr Baltyn, kontakt: <a href="mailto:cltplhub@gmail.com" style="color:#fff;text-decoration:underline;">cltplhub@gmail.com</a>`,
        tocTitle: "Kalkulatory i narzędzia",
        footer: "&copy; CLT HUB – Wszelkie prawa zastrzeżone | Autor: Piotr Baltyn | <a href='mailto:cltplhub@gmail.com' style='color:#218838;text-decoration:underline;'>cltplhub@gmail.com</a>"
      },
      en: {
        headline: "CLT level up!",
        desc: "Interactive tools and calculators for CLT structural design.<br>Single-use access – subsequent visits require payment.",
        entryBtn: "Go to CLT HUB",
        entrySub: "Single-use access. Each subsequent visit requires activation of a paid session.",
        entryThird: "Please review the terms below.",
        regulamin: `<b>CLT HUB Terms of Use</b>
        Use of the CLT HUB tools and calculators is only permitted as a single-use session. After it ends, each subsequent entry is paid.
        The information contained on the website is for informational purposes only and does not constitute design documentation. The user uses the tools at their own risk.
        All rights reserved &copy; CLT HUB, author: Piotr Baltyn, contact: <a href="mailto:cltplhub@gmail.com" style="color:#fff;text-decoration:underline;">cltplhub@gmail.com</a>`,
        tocTitle: "Calculators and tools",
        footer: "&copy; CLT HUB – All rights reserved | Author: Piotr Baltyn | <a href='mailto:cltplhub@gmail.com' style='color:#218838;text-decoration:underline;'>cltplhub@gmail.com</a>"
      },
      de: {
        headline: "CLT level up!",
        desc: "Interaktive Werkzeuge und Rechner für die CLT-Konstruktion.<br>Einmaliger Zugriff – jeder weitere Besuch ist kostenpflichtig.",
        entryBtn: "Zum CLT HUB",
        entrySub: "Einmaliger Zugriff. Jeder weitere Besuch erfordert eine kostenpflichtige Sitzung.",
        entryThird: "Bitte lesen Sie die Nutzungsbedingungen unten.",
        regulamin: `<b>Nutzungsbedingungen CLT HUB</b>
        Die Nutzung der CLT HUB Werkzeuge und Rechner ist ausschließlich für eine einmalige Sitzung erlaubt. Nach deren Beendigung ist jeder weitere Zugang kostenpflichtig.
        Die auf der Website enthaltenen Informationen dienen nur zu Informationszwecken und stellen keine Planungsunterlagen dar. Die Nutzung der Werkzeuge erfolgt auf eigene Gefahr.
        Alle Rechte vorbehalten &copy; CLT HUB, Autor: Piotr Baltyn, Kontakt: <a href="mailto:cltplhub@gmail.com" style="color:#fff;text-decoration:underline;">cltplhub@gmail.com</a>`,
        tocTitle: "Rechner und Werkzeuge",
        footer: "&copy; CLT HUB – Alle Rechte vorbehalten | Autor: Piotr Baltyn | <a href='mailto:cltplhub@gmail.com' style='color:#218838;text-decoration:underline;'>cltplhub@gmail.com</a>"
      }
    };
    function applyLang(lang) {
      document.getElementById('headline').textContent = translations[lang].headline;
      document.getElementById('desc').innerHTML = translations[lang].desc;
      document.getElementById('entryBtn').innerHTML = translations[lang].entryBtn +
        `<span>${translations[lang].entrySub}</span><span>${translations[lang].entryThird}</span>`;
      document.getElementById('regulamin').innerHTML = translations[lang].regulamin;
      document.getElementById('tocTitle').textContent = translations[lang].tocTitle;
      document.getElementById('footer').innerHTML = translations[lang].footer;
      // Zmień język w przycisku przejścia
      document.getElementById('entryBtn').setAttribute("onclick", `window.location.href='docs/HUBCLT.html?free=1&lang=${lang}#calc-mass'`);
      renderTOC(lang);
    }
    document.getElementById('lang-select').addEventListener('change', function() {
      applyLang(this.value);
      localStorage.setItem('clthub_lang', this.value);
    });
    window.addEventListener('DOMContentLoaded', function() {
      const saved = localStorage.getItem('clthub_lang') || 'pl';
      document.getElementById('lang-select').value = saved;
      applyLang(saved);
      renderTOC(saved);
    });

    // Ładowanie i renderowanie listy kalkulatorów z toc.json
    function renderTOC(lang) {
      fetch('docs/toc.json')
        .then(res => res.json())
        .then(toc => {
          const tocDiv = document.getElementById('toc');
          tocDiv.innerHTML = "";
          toc.forEach(section => {
            const secTitle = document.createElement('div');
            secTitle.className = "toc-section-title";
            secTitle.textContent = section[`kategoria_${lang}`] || section.kategoria;
            tocDiv.appendChild(secTitle);
            const ul = document.createElement('ul');
            ul.className = "toc-list";
            section.kalkulatory.forEach(calc => {
              const li = document.createElement('li');
              const a = document.createElement('a');
              a.className = "toc-link";
              a.href = calc.link;
              a.target = "_blank";
              a.textContent = calc[`nazwa_${lang}`] || calc.nazwa;
              let opis = calc[`opis_${lang}`] || calc.opis;
              if (opis) a.title = opis;
              li.appendChild(a);
              if(opis) {
                const span = document.createElement('span');
                span.style.fontSize = "0.95em";
                span.style.color = "#444";
                span.style.fontWeight = "400";
                span.textContent = " – " + opis;
                li.appendChild(span);
              }
              ul.appendChild(li);
            });
            tocDiv.appendChild(ul);
          });
        })
        .catch(() => {
          document.getElementById('toc').innerHTML = '<div style="color:#b02c2c;">Nie można załadować listy kalkulatorów (toc.json).</div>';
        });
    }
  </script>
</body>
</html>
