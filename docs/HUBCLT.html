<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Baza wiedzy CLT – BASIC</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="clthub-style.css">
  <style>
    body { font-family: 'Arial Narrow', Arial, sans-serif; margin: 0; padding: 0; min-height: 100vh; width: 100vw;
      background: linear-gradient(35deg, #0b1910 0%, #0b1910 30%, rgba(33,136,56,0.30) 49%, rgba(33,136,56,0.30) 51%, #0b1910 70%, #0b1910 100%) center center/cover no-repeat, #0b1910; color: #999; }
    .lang-mail-bar { position: absolute; top: 24px; right: 4vw; z-index: 99; display: flex; align-items: center; background: transparent; }
    .mail-ico-inbar { width: 34px; height: 26px; cursor: pointer; border-radius: 7px; margin-right: 10px; background: transparent; }
    .mail-title { font-size: 1.11em; color: #fff; margin-right: 16px; font-weight: 500; letter-spacing: 0.04em; white-space: nowrap; user-select: none; }
    .lang-select { border: none; background: #2cc053; color: #fff; border-radius: 10px; font-size: 1.18em; padding: 0.25em 1.4em 0.25em 0.7em; font-family: inherit; font-weight: bold; outline: none; box-shadow: 0 1px 7px #0001; cursor: pointer; }
    .main-container { display: flex; flex-direction: row; justify-content: center; align-items: flex-start; gap: 8vw; margin: 3vh auto 0 auto; width: 95vw; max-width: 1700px; box-sizing: border-box; }
    .left-panel { flex: 0 1 33vw; min-width: 280px; max-width: 520px; display: flex; flex-direction: column; align-items: center; padding-left: 16px; padding-right: 16px; }
    .right-panel { flex: 0 1 42vw; min-width: 290px; max-width: 600px; display: flex; flex-direction: column; height: 100%; justify-content: flex-start; margin-top: 56px; }
    @media (max-width: 800px) {
      .main-container { flex-direction: column; gap: 2vw; width: 99vw; }
      .left-panel, .right-panel { min-width: 0; max-width: 100vw; width: 97vw; margin-top: 0 !important; }
    }
    .headline { font-size: 3.2em; font-weight: bold; margin: 0; letter-spacing: 1px; white-space: nowrap; display: inline-block;
      background: linear-gradient(90deg,#fff 0%,#2cc053 45%,#2cc053 55%,#fff 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; text-fill-color: transparent; color: #fff; }
    .logo-row { display: flex; flex-direction: row; align-items: center; margin-bottom: 0.5em; margin-top: 0.2em; gap: 1.5vw; width: 100%; justify-content: flex-start; }
    .logo { width: 100px; height: 100px; border-radius: 18px; background: #fff; object-fit: contain; margin-right: 1vw; cursor: pointer; transition: filter 0.2s; }
    .logo:hover { filter: brightness(1.3); opacity: 0.8; }
    .middle-section { width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 120px; margin-bottom: 0.7em; }
    .welcome-basic { text-align: center; font-size: 1.14em; color: #fff; margin-bottom: 1em; }
    .regulamin { margin-top: 2.2em; font-size: 1.08em; color: #2cc053; max-height: 230px; overflow-y: auto; line-height: 1.22; padding-left: clamp(10px, 3.5vw, 20px); padding-right: clamp(10px, 3.5vw, 20px); text-align: justify; letter-spacing: 0.08em; background: transparent; font-weight: 400; width: 100%; box-sizing: border-box; word-break: break-word; margin-bottom: 2.7em; }
    .toc-header { font-size: 2.1em; font-weight: bold; margin-bottom: 0.6em; margin-top: 0.3em; text-align: left; width: max-content; background: linear-gradient(90deg,#fff 0%,#fff 20%,#e0e0e0 50%,#fff 80%,#fff 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; text-fill-color: transparent; color: #fff !important; }
    .toc-list { font-size: 1.13em; color: #2cc053; max-height: 340px; overflow-y: auto; padding-right: 12px; line-height: 1.33; text-align: left; }
    .toc-list li { color: #2cc053; font-size: 1em; margin-bottom: 0.06em; transition: filter 0.2s, color 0.2s; list-style: disc; margin-left: 1.3em; }
    .toc-list li a { color: #2cc053; text-decoration: none; font-weight: bold; cursor:pointer;}
    .toc-list li a:hover { text-decoration: underline; color: #42df6b; }
    .reklama-bar { width: 100%; height: 38px; margin-top: 22px; margin-bottom: 0.7em; border-radius: 18px; background: linear-gradient(90deg, #0b1910 0%, #218838 54%, #0b1910 100%); box-shadow: 0 3px 18px #0004; overflow: hidden; display: flex; align-items: center; border: 1.5px solid #21883844; z-index: 11; position: relative; }
    .reklama-marquee { font-family: 'Arial Narrow', Arial, sans-serif; font-size: 1.17em; color: #fff; white-space: nowrap; animation: scroll-text 80s linear infinite; letter-spacing: 0.07em; font-weight: 400; padding-left: 100%; display: inline-block; }
    @keyframes scroll-text { from { transform: translateX(0); } to   { transform: translateX(-100%); } }
    .copyright { width: 100vw; color: #555; text-align: center; font-size: 1em; margin: 3vh 0 1vh 0; letter-spacing: 0.03em; font-family: Arial, sans-serif; user-select: none; }
  </style>
</head>
<body>
  <div class="lang-mail-bar">
    <span class="mail-title" id="mailTitle">Napisz do nas!</span>
    <img src="https://github.com/clthubpl/kalkulator-szablon/blob/main/docs/poczta.png?raw=true"
         alt="E-mail"
         class="mail-ico-inbar"
         id="mailIcon"
         title="Napisz do nas!"
         onclick="window.location='mailto:cltplhub@gmail.com'"
         ondblclick="window.open('https://mail.google.com/mail/?view=cm&to=cltplhub@gmail.com','_blank')" />
    <select class="lang-select" id="lang" onchange="setLang(this.value)">
      <option value="pl">PL</option>
      <option value="en">EN</option>
      <option value="de">GER</option>
    </select>
  </div>
  <div class="main-container">
    <!-- Lewy panel -->
    <div class="left-panel">
      <div class="logo-row">
        <img src="https://github.com/clthubpl/kalkulator-szablon/blob/main/docs/logo.png?raw=true"
             alt="Logo CLT HUB"
             class="logo"
             id="logoBtn"
             title="Zaloguj się, aby wejść do edytora">
        <span class="headline gradient-text" id="headline">CLT level up!</span>
      </div>
      <div class="middle-section">
        <div class="welcome-basic">
          <b id="basicTitle">Baza wiedzy i kalkulatory CLT BASIC</b>
          <p id="basicDesc">Darmowa wiedza i narzędzia CLT dla każdego. Po więcej przejdź do wersji PRO!</p>
        </div>
      </div>
      <div class="regulamin" id="regulamin"></div>
    </div>
    <!-- Prawy panel -->
    <div class="right-panel" id="rightPanel">
      <div class="toc-header" id="toc-header"></div>
      <div class="toc-list" id="toc-list"></div>
      <div class="reklama-bar">
        <span class="reklama-marquee" id="adText"></span>
      </div>
      <!-- Kalkulator pojawia się tutaj -->
      <div id="kalkulator-box" style="margin-top:20px;width:100%;min-height:320px;display:none;"></div>
    </div>
  </div>
  <div class="copyright">
    © Copyright
  </div>
  <!-- Modal logowania do edytora -->
  <div id="loginModal"
      style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:20000;align-items:center;justify-content:center;background:#0b1910cc;">
    <form style="background:#fff;border-radius:16px;box-shadow:0 4px 32px #14281d55;padding:36px 28px;display:flex;flex-direction:column;min-width:290px;max-width:97vw;position:relative;"
        onsubmit="return editorLogin()">
      <button type="button" onclick="closeLogin()" style="position:absolute;top:9px;right:13px;font-size:1.5em;background:none;border:none;color:#218838;cursor:pointer;">&times;</button>
      <h2 style="color:#218838;font-size:1.5em;margin-bottom:18px;">Logowanie do edytora</h2>
      <input type="password" id="editorPass" placeholder="Hasło" style="font-size:1.17em;margin-bottom:18px;" autocomplete="current-password">
      <button type="submit" style="background:#218838;color:#fff;border-radius:7px;border:none;font-size:1.13em;padding:7px 18px;">Zaloguj</button>
      <div id="loginInfo" style="margin-top:14px;color:#c92828;font-size:1em;"></div>
    </form>
  </div>
  <script>
    // Tłumaczenia i ToC
    const translations = {
      pl: {
        mailTitle: "Napisz do nas!",
        basicTitle: "Baza wiedzy i kalkulatory CLT BASIC",
        basicDesc: "Darmowa wiedza i narzędzia CLT dla każdego. Po więcej przejdź do wersji PRO!",
        regulamin: `<b>Opis i regulamin...</b><br>
     <b>Opis</b><br>
Strona CLT HUB stanowi zbiór informacji oraz bazę wiedzy na temat technologii CLT. Wybrane elementy serwisu, w szczególności kalkulatory inżynieryjne, umożliwiają wykonywanie symulacji i modelowania, jednak nie zastępują profesjonalnej obsługi ze strony uprawnionego konstruktora lub innych specjalistów branżowych. Autor nie ponosi odpowiedzialności za ewentualne szkody powstałe w wyniku samodzielnych wdrożeń opartych o udostępnione narzędzia.<br>
Jednorazowy dostęp oznacza dostęp do zasobów udostępnionych w jednostce czasu: 12h.<br>
<br>
<b>Regulamin</b>
<ol style="margin:0.5em 0 0 1.3em; padding:0; font-size:inherit; line-height:1.42; text-align:left;">
<li>Usługodawca: Piotr Baltyn, 87-100 Toruń, ul. Matejki 56/38, e-mail: cltplhub@gmail.com.</li>
<li>Usługa polega na jednorazowym dostępie do wybranego kalkulatora CLT po dokonaniu płatności poprzez HotPay.</li>
<li>Jednorazowy dostęp oznacza dostęp do zasobów udostępnionych w jednostce czasu: 12h.</li>
<li>Usługa świadczona jest w ramach działalności nieewidencjonowanej na podstawie art. 5 ustawy – Dz.U. 2024 poz. 236.</li>
<li>Nie są wystawiane faktury ani paragony – potwierdzeniem zakupu jest sam fakt dokonania płatności.</li>
<li>Usługa realizowana jest natychmiast po zaksięgowaniu płatności.</li>
<li>Po pełnym wykonaniu usługi nie przysługuje prawo odstąpienia od umowy (art. 38 ustawy o prawach konsumenta).</li>
<li>Reklamacje po opłaceniu usługi rozpatrywane są wyłącznie w przypadku udowodnionego braku realizacji usługi.</li>
<li>Propozycje nowych tematów można zgłaszać na adres e-mail.</li>
<li>Rozliczenia transakcji e-przelewem przeprowadzane są wyłącznie za pośrednictwem HotPay.</li>
<li>Serwis nie prezentuje treści zabronionych przez prawo polskie oraz UE.</li>
        Lista dostępnych opracowań będzie sukcesywnie rozszerzana.<br>
        Usługa polega na uzyskaniu jednorazowego dostępu do kalkulatora po dokonaniu płatności za pośrednictwem HotPay. Reklamacje: cltplhub@gmail.com`,
        tocHeader: "Spis treści HUB CLT (BASIC)",
        toc: [
          { title: "Kalkulator masy CLT", url: "https://clthubpl.github.io/clt/cltbaza/kalkulatory/Kalkulator%20masy.html" },
          { title: "Kalkulator statyki CLT", url: "https://clthubpl.github.io/clt/cltbaza/kalkulatory/Kalkulator%20statyki.html" }
        ],
        adText: `Zapytaj o wycenę konstrukcji CLT: cltplhub@gmail.com * Twoja reklama tutaj [nazwa firmy +5 słów] 200PLN/mc *`
      },
      en: {
        mailTitle: "Write to us!",
        basicTitle: "CLT Knowledge Base and Calculators BASIC",
        basicDesc: "Free CLT knowledge and tools for everyone. For more – go PRO!",
        regulamin: `<b>Description and terms...</b><br>
        CLT HUB is an information and knowledge base about CLT technology. Calculators allow simulations, but do not replace professional engineers. Author is not liable for any damages.<br>
        List of articles and tools will be expanded. Access after payment via HotPay. Complaints: cltplhub@gmail.com`,
        tocHeader: "CLT HUB Table of Contents (BASIC)",
        toc: [
          { title: "CLT Mass Calculator", url: "https://clthubpl.github.io/clt/cltbaza/kalkulatory/Kalkulator%20masy.html" },
          { title: "CLT Statics Calculator", url: "https://clthubpl.github.io/clt/cltbaza/kalkulatory/Kalkulator%20statyki.html" }
        ],
        adText: `Ask for a quote for your CLT structure: cltplhub@gmail.com * Your ad here [company name +5 words] 200PLN/month *`
      },
      de: {
        mailTitle: "Schreiben Sie uns!",
        basicTitle: "CLT Wissensbasis und Rechner BASIC",
        basicDesc: "Kostenloses CLT-Wissen und Werkzeuge für alle. Für mehr – werden Sie PRO!",
        regulamin: `<b>Beschreibung und Regeln...</b><br>
        CLT HUB ist eine Informations- und Wissensbasis zur CLT-Technologie. Rechner ermöglichen Simulationen, ersetzen aber keine Fachingenieure. Autor übernimmt keine Haftung für Schäden.<br>
        Weitere Artikel und Tools folgen. Zugang nach Zahlung via HotPay. Beschwerden: cltplhub@gmail.com`,
        tocHeader: "CLT HUB Inhaltsverzeichnis (BASIC)",
        toc: [
          { title: "CLT-Massenrechner", url: "https://clthubpl.github.io/clt/cltbaza/kalkulatory/Kalkulator%20masy.html" },
          { title: "CLT-Statikrechner", url: "https://clthubpl.github.io/clt/cltbaza/kalkulatory/Kalkulator%20statyki.html" }
        ],
        adText: `Fragen Sie nach einem Angebot für Ihre CLT-Konstruktion: cltplhub@gmail.com * Ihre Werbung hier [Firmenname +5 Wörter] 200PLN/Monat *`
      }
    };

    let currentLang = "pl";
    function setLang(lang) {
      currentLang = lang;
      document.getElementById("mailTitle").innerText = translations[lang].mailTitle;
      document.getElementById("basicTitle").innerText = translations[lang].basicTitle;
      document.getElementById("basicDesc").innerText = translations[lang].basicDesc;
      document.getElementById("regulamin").innerHTML = translations[lang].regulamin;
      document.getElementById("toc-header").innerText = translations[lang].tocHeader;
      document.getElementById("toc-list").innerHTML = translations[lang].toc.map(e =>
        `<li><a href="#" class="kalk-link" data-url="${e.url}">${e.title}</a></li>`).join("");
      document.getElementById("adText").innerText = translations[lang].adText;
      document.getElementById("mailIcon").title = translations[lang].mailTitle;
      document.getElementById('kalkulator-box').style.display = "none";
      document.getElementById('kalkulator-box').innerHTML = "";
    }
    setLang('pl');
    document.getElementById('lang').addEventListener('change', function() {
      setLang(this.value);
    });

    function loadKalkulator(url) {
      const box = document.getElementById('kalkulator-box');
      box.innerHTML = `<iframe src="${url}" width="100%" height="430" style="border:none;border-radius:12px;background:#fff;" loading="lazy"></iframe>`;
      box.style.display = "block";
      box.scrollIntoView({behavior: 'smooth', block: 'start'});
    }
    document.getElementById('toc-list').addEventListener('click', function(e) {
      if(e.target.classList.contains('kalk-link')) {
        e.preventDefault();
        loadKalkulator(e.target.getAttribute('data-url'));
      }
    });

    document.getElementById('logoBtn').onclick = function() {
      document.getElementById('loginModal').style.display = "flex";
      setTimeout(()=>{document.getElementById('editorPass').focus();}, 300);
    };
    function closeLogin() {
      document.getElementById('loginModal').style.display = "none";
      document.getElementById('editorPass').value = "";
      document.getElementById('loginInfo').innerText = "";
    }
    function editorLogin() {
      var val = document.getElementById('editorPass').value;
      if(val === "edycjainterfejsu" || val === "adminskip") {
        document.getElementById('loginInfo').style.color = "#2cc053";
        document.getElementById('loginInfo').innerText = "Logowanie poprawne. Przekierowuję...";
        setTimeout(()=>{window.location.href = "editor.html";}, 900);
      } else {
        document.getElementById('loginInfo').innerText = "Błędne hasło";
        document.getElementById('loginInfo').style.color = "#c92828";
      }
      return false;
    }
    document.addEventListener('keydown', function(e) {
      if (e.key === "Escape") closeLogin();
    });
  </script>
</body>
</html>
