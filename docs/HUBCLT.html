<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>CLT HUB – Kalkulatory i materiały</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: 'Segoe UI', Arial, sans-serif; background: #f6f6f2; color: #1f3d2c; margin: 0; padding: 30px 0;}
    .main-title { text-align: center; font-size: 2.1em; color: #218838; margin-top: 0; margin-bottom: 26px; font-weight: bold; letter-spacing: 0.05em; }
    #lang-select-container { position: absolute; top: 18px; right: 32px; z-index: 100; }
    #lang-select { font-size: 1.08em; padding: 3px 16px; border-radius: 7px; background: #fff; color: #1f3d2c; border: none; font-weight: 600; }
    .main-wrap { display: flex; justify-content: center; align-items: flex-start; gap: 1cm; max-width: 900px; margin: 0 auto; }
    .panel { background: #fff; border-radius: 12px; box-shadow: 0 4px 12px #1f3d2c20; padding: 24px 24px; flex: 1 1 0; min-width: 270px; max-width: 350px; margin: 0;}
    .panel.left-panel { text-align: left; }
    .panel.right-panel { background: #14281d; color: #fff; font-size: 1em; min-width: 250px; max-width: 350px; word-break: break-word;}
    ul.toc { padding: 0; margin: 0; list-style-type: disc; padding-left: 18px;}
    ul.toc > li { margin-bottom: 10px; font-size: 1.05em; font-weight: 700; letter-spacing: 0.01em;}
    ul.toc ul { margin-top: 4px; margin-bottom: 6px; margin-left: 14px; font-size: 0.97em;}
    ul.toc li ul li { font-weight: 400; font-size: 0.96em; margin-bottom: 4px; margin-top: 4px;}
    ul.toc a { color: #c2ffd5; text-decoration: underline; transition: color 0.15s;}
    ul.toc a:hover { color: #b8f570;}
    @media (max-width: 900px) { .main-wrap { flex-direction: column; gap: 18px; max-width: 99vw; } .panel { max-width: 100%; min-width: unset; } }
    .regulamin { max-width: 900px; margin: 36px auto 0 auto; font-size: 0.97em; background: #fff; border-radius: 10px; box-shadow: 0 2px 10px #1f3d2c18; padding: 18px 26px 18px 26px; color: #233729; line-height: 1.55;}
    .regulamin strong { font-weight: 700; }
  </style>
</head>
<body>
  <div id="lang-select-container">
    <select id="lang-select" aria-label="Select language">
      <option value="pl">PL</option>
      <option value="en">ENG</option>
      <option value="de">GER</option>
    </select>
  </div>
  <div class="main-title" id="main-title">CLT HUB – Kalkulatory i materiały edukacyjne</div>
  <div class="main-wrap">
    <section class="panel left-panel">
      <h2 id="h2title">Materiały edukacyjne i kalkulatory</h2>
      <div id="hubdesc">
        <p>Witaj w sekcji narzędzi i materiałów. Wybierz interesujący Cię kalkulator lub temat ze spisu po prawej stronie, lub przejdź bezpośrednio do:</p>
        <ul>
          <li><a href="kalkulator-clt.html">Kalkulator statyki CLT</a></li>
          <li><a href="kalkulator-masy.html">Kalkulator masy CLT</a></li>
        </ul>
        <p>Jeśli jesteś administratorem, możesz edytować spis treści modyfikując plik <code>toc.json</code>.</p>
      </div>
    </section>
    <section class="panel right-panel">
      <ul class="toc" id="toc"></ul>
    </section>
  </div>
  <div class="regulamin" id="regulamin">
    <strong>Regulamin / Informacje prawne:</strong><br>
    Strona CLT HUB stanowi zbiór informacji oraz bazę wiedzy na temat technologii CLT. Niektóre jej elementy, takie jak kalkulatory inżynieryjne, umożliwiają symulacje i modelowanie, jednak nie zastępują profesjonalnej obsługi ze strony uprawnionego konstruktora lub innych specjalistów branżowych. Autor nie ponosi odpowiedzialności za ewentualne szkody powstałe w wyniku wdrożeń opartych na analizach i symulacjach narzędzi dostępnych w CLT HUB. Lista dostępnych opracowań będzie sukcesywnie rozszerzana (można zgłaszać własne propozycje do wdrożeń).<br>
    © Wszelkie prawa zastrzeżone (All rights reserved).
  </div>
  <script>
    // Tłumaczenia tekstów
    const translations = {
      pl: {
        mainTitle: "CLT HUB – Kalkulatory i materiały edukacyjne",
        h2title: "Materiały edukacyjne i kalkulatory",
        hubdesc: `<p>Witaj w sekcji narzędzi i materiałów. Wybierz interesujący Cię kalkulator lub temat ze spisu po prawej stronie, lub przejdź bezpośrednio do:</p>
        <ul>
          <li><a href="kalkulator-clt.html">Kalkulator statyki CLT</a></li>
          <li><a href="kalkulator-masy.html">Kalkulator masy CLT</a></li>
        </ul>
        <p>Jeśli jesteś administratorem, możesz edytować spis treści modyfikując plik <code>toc.json</code>.</p>`,
        regulamin: `<strong>Regulamin / Informacje prawne:</strong><br>
          Strona CLT HUB stanowi zbiór informacji oraz bazę wiedzy na temat technologii CLT. Niektóre jej elementy, takie jak kalkulatory inżynieryjne, umożliwiają symulacje i modelowanie, jednak nie zastępują profesjonalnej obsługi ze strony uprawnionego konstruktora lub innych specjalistów branżowych. Autor nie ponosi odpowiedzialności za ewentualne szkody powstałe w wyniku wdrożeń opartych na analizach i symulacjach narzędzi dostępnych w CLT HUB. Lista dostępnych opracowań będzie sukcesywnie rozszerzana (można zgłaszać własne propozycje do wdrożeń).<br>
          © Wszelkie prawa zastrzeżone (All rights reserved).`
      },
      en: {
        mainTitle: "CLT HUB – Calculators and Educational Materials",
        h2title: "Educational Materials and Calculators",
        hubdesc: `<p>Welcome to the tools and materials section. Select the calculator or topic from the menu on the right, or go directly to:</p>
        <ul>
          <li><a href="kalkulator-clt.html">CLT Statics Calculator</a></li>
          <li><a href="kalkulator-masy.html">CLT Mass Calculator</a></li>
        </ul>
        <p>If you are an administrator, you can edit the table of contents by modifying the <code>toc.json</code> file.</p>`,
        regulamin: `<strong>Terms & Legal Notice:</strong><br>
          The CLT HUB website is an information base about CLT technology. Some elements, such as engineering calculators, allow simulation and modeling, but do not replace professional support from a licensed structural engineer or other specialists. The author is not responsible for any damages resulting from implementations based on analyses and simulations of the CLT HUB tools. The list of available studies will be successively expanded (you can also submit your own proposals for future implementations).<br>
          © All rights reserved.`
      },
      de: {
        mainTitle: "CLT HUB – Rechner und Lehrmaterialien",
        h2title: "Lehrmaterialien und Rechner",
        hubdesc: `<p>Willkommen im Bereich für Werkzeuge und Materialien. Wählen Sie den gewünschten Rechner oder das Thema aus dem Menü auf der rechten Seite oder gehen Sie direkt zu:</p>
        <ul>
          <li><a href="kalkulator-clt.html">CLT Statikrechner</a></li>
          <li><a href="kalkulator-masy.html">CLT-Massenrechner</a></li>
        </ul>
        <p>Wenn Sie Administrator sind, können Sie das Inhaltsverzeichnis durch Bearbeitung der Datei <code>toc.json</code> ändern.</p>`,
        regulamin: `<strong>Regeln / Rechtliche Hinweise:</strong><br>
          Die Seite CLT HUB ist eine Informations- und Wissensdatenbank zur CLT-Technologie. Einige Elemente, wie die Ingenieurrechner, ermöglichen Simulationen und Modellierungen, ersetzen jedoch nicht die professionelle Betreuung durch einen berechtigten Konstrukteur oder andere Fachleute. Der Autor übernimmt keine Haftung für Schäden, die aus der Umsetzung von Analysen und Simulationen der CLT HUB-Tools entstehen. Die Liste der verfügbaren Studien wird schrittweise erweitert (eigene Vorschläge können eingereicht werden).<br>
          © Alle Rechte vorbehalten.`
      }
    };

    // Zmiana języka
    function setLanguage(lang) {
      document.getElementById('main-title').textContent = translations[lang].mainTitle;
      document.getElementById('h2title').textContent = translations[lang].h2title;
      document.getElementById('hubdesc').innerHTML = translations[lang].hubdesc;
      document.getElementById('regulamin').innerHTML = translations[lang].regulamin;
      renderTOC(lang, tocCache);
    }

    // Spis treści z toc.json (wielojęzycznie)
    let tocCache = [];
    function renderTOC(lang, toc) {
      const tocRoot = document.getElementById('toc');
      tocRoot.innerHTML = "";
      toc.forEach(section => {
        const sectionLi = document.createElement('li');
        sectionLi.textContent = section["kategoria"+(lang==="pl"?"":(lang==="en"?"_en":"_de"))] || section.kategoria;
        if (Array.isArray(section.kalkulatory)) {
          const kalkUl = document.createElement('ul');
          section.kalkulatory.forEach(kalk => {
            const kalkLi = document.createElement('li');
            kalkLi.innerHTML = ""; // reset
            if (kalk.link && kalk.link !== "#") {
              const kalkA = document.createElement('a');
              kalkA.href = kalk.link;
              kalkA.textContent = kalk["nazwa"+(lang==="pl"?"":(lang==="en"?"_en":"_de"))] || kalk.nazwa;
              kalkA.target = '_blank';
              kalkLi.appendChild(kalkA);
            } else {
              kalkLi.textContent = kalk["nazwa"+(lang==="pl"?"":(lang==="en"?"_en":"_de"))] || kalk.nazwa;
            }
            // Podsekcje
            if (Array.isArray(kalk.podsekcje) && kalk.podsekcje.length) {
              const podUl = document.createElement('ul');
              kalk.podsekcje.forEach(pod => {
                const podLi = document.createElement('li');
                if (pod.link && pod.link !== "#") {
                  const podA = document.createElement('a');
                  podA.href = pod.link;
                  podA.textContent = pod["nazwa"+(lang==="pl"?"":(lang==="en"?"_en":"_de"))] || pod.nazwa;
                  podA.target = '_blank';
                  podLi.appendChild(podA);
                } else {
                  podLi.textContent = pod["nazwa"+(lang==="pl"?"":(lang==="en"?"_en":"_de"))] || pod.nazwa;
                }
                podUl.appendChild(podLi);
              });
              kalkLi.appendChild(podUl);
            }
            kalkUl.appendChild(kalkLi);
          });
          sectionLi.appendChild(kalkUl);
        }
        tocRoot.appendChild(sectionLi);
      });
    }

    fetch('toc.json')
      .then(res => res.json())
      .then(data => {
        tocCache = data;
        setLanguage(document.getElementById('lang-select').value);
      })
      .catch(() => {
        document.getElementById('toc').innerHTML = '<li>Nie udało się pobrać listy sekcji. Sprawdź plik toc.json.</li>';
      });

    // Przełącznik języka
    document.getElementById('lang-select').onchange = function() {
      setLanguage(this.value);
    }
  </script>
</body>
</html>
